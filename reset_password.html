<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Reset Password</title>
    <style>
        /* --- 1. 基礎設定 --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
        }

        :root {
            --bg-color: #F2EBE0;       
            --text-dark: #6D5D55;      
            --text-sub: #8D6E63;       
            --btn-color: #C4B5A8;      
        }

        body {
            background-color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        /* --- 2. 手機外框 --- */
        .phone-frame {
            width: 375px;
            height: 740px;
            background-color: var(--bg-color);
            border-radius: 44px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            border: 8px solid #222;
            display: flex;
            flex-direction: column;
        }

        /* --- 3. 狀態列 --- */
        .status-bar {
            position: absolute; top: 0; left: 0; width: 100%; height: 44px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 25px; z-index: 10;
            font-size: 14px; font-weight: 600; color: #000;
        }
        .dynamic-island {
            position: absolute; top: 11px; left: 50%; transform: translateX(-50%);
            width: 120px; height: 35px; background-color: #000; border-radius: 20px;
        }
        .status-icons { display: flex; gap: 5px; }

        /* --- 4. 內容區域 --- */
        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 180px; 
            padding-left: 25px;
            padding-right: 25px;
        }

        .title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 15px;
        }

        .subtitle {
            font-size: 14px;
            color: var(--text-sub);
            text-align: center;
            margin-bottom: 60px;
            line-height: 1.4;
            max-width: 300px;
        }

        /* --- 輸入框群組 (包含眼睛圖示) --- */
        .input-group {
            width: 100%;
            margin-bottom: 20px;
            position: relative; /* 關鍵：讓眼睛圖示可以絕對定位 */
        }

        .input-field {
            width: 100%;
            height: 55px;
            background-color: #FFFFFF;
            border: none;
            padding: 0 50px 0 20px; /* 右邊留出空間給眼睛圖示 */
            font-size: 16px;
            color: #333;
            border-radius: 2px;
            outline: none;
        }

        .input-field::placeholder {
            color: #C0C0C0;
        }

        /* 眼睛圖示按鈕 */
        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            opacity: 0.6;
            transition: opacity 0.2s;
        }
        .toggle-password:active { opacity: 1; }
        
        /* 圖示顏色 */
        .toggle-password svg {
            width: 20px; 
            height: 20px; 
            fill: var(--text-dark);
        }

        /* 按鈕樣式 */
        .verify-btn {
            width: 100%;
            height: 55px;
            background-color: var(--btn-color);
            color: white;
            border: none;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            border-radius: 2px;
            margin-top: 20px;
            transition: opacity 0.2s;
        }
        .verify-btn:active { opacity: 0.8; }

        .home-indicator {
            position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%);
            width: 130px; height: 5px; background-color: #000; border-radius: 3px;
        }

    </style>
</head>
<body>

    <div class="phone-frame">
        
        <div class="status-bar">
            <div class="time">9:41</div>
            <div class="dynamic-island"></div>
            <div class="status-icons">
                <svg width="18" height="12" viewBox="0 0 18 12" fill="black"><path d="M1 10h2v2H1zm4-3h2v5H5zm4-3h2v8H9zm4-3h2v11h-2z"/></svg>
                <svg width="24" height="12" viewBox="0 0 24 12" fill="none" stroke="black" stroke-width="1.5"><rect x="1" y="1" width="18" height="10" rx="2" /><path d="M20 4v4" /><rect x="3" y="3" width="14" height="6" fill="black" rx="1"/></svg>
            </div>
        </div>

        <div class="content">
            <div class="title">Reset Password</div>
            <div class="subtitle">
                Atleast 9 characters with uppercase and lowercase letters.
            </div>

            <div class="input-group">
                <input type="password" class="input-field" id="newPass" placeholder="New Password">
                <div class="toggle-password" onclick="toggleVisibility('newPass', this)">
                    <svg viewBox="0 0 24 24"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></svg>
                </div>
            </div>
            
            <div class="input-group">
                <input type="password" class="input-field" id="confirmPass" placeholder="Confirm Password">
                <div class="toggle-password" onclick="toggleVisibility('confirmPass', this)">
                    <svg viewBox="0 0 24 24"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></svg>
                </div>
            </div>

            <button class="verify-btn" id="verifyBtn">Verify</button>
        </div>

        <div class="home-indicator"></div>
    </div>

    <script>
        // --- 功能 1: 密碼顯示/隱藏切換 ---
        function toggleVisibility(inputId, iconElement) {
            const input = document.getElementById(inputId);
            
            // 睜眼與閉眼的 SVG 路徑
            const eyeOpenPath = '<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>';
            const eyeClosedPath = '<path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>';

            if (input.type === "password") {
                input.type = "text";
                // 換成睜眼圖示
                iconElement.innerHTML = `<svg viewBox="0 0 24 24">${eyeOpenPath}</svg>`;
            } else {
                input.type = "password";
                // 換成閉眼圖示
                iconElement.innerHTML = `<svg viewBox="0 0 24 24">${eyeClosedPath}</svg>`;
            }
        }

        // --- 功能 2: 驗證邏輯 ---
        const verifyBtn = document.getElementById('verifyBtn');
        const newPassInput = document.getElementById('newPass');
        const confirmPassInput = document.getElementById('confirmPass');

        verifyBtn.addEventListener('click', () => {
            const newPass = newPassInput.value;
            const confirmPass = confirmPassInput.value;

            // 1. 檢查是否填寫
            if (!newPass || !confirmPass) {
                alert("請填寫所有欄位。\nPlease fill in all fields.");
                return;
            }

            // 2. 檢查長度
            if (newPass.length < 9) {
                alert("密碼長度不足！需要至少 9 個字元。\nPassword must be at least 9 characters.");
                return;
            }

            // 3. 檢查大小寫 (至少一個大寫 + 一個小寫)
            const complexityRegex = /(?=.*[a-z])(?=.*[A-Z])/;
            if (!complexityRegex.test(newPass)) {
                alert("密碼必須包含至少一個大寫字母和一個小寫字母。\nMust contain uppercase and lowercase letters.");
                return;
            }

            // 4. 檢查上下是否一致 (您的主要需求)
            if (newPass !== confirmPass) {
                alert("❌ 錯誤：兩次輸入的密碼不一致！\nError: Passwords do not match.");
                
                // 貼心互動：清空確認欄位並聚焦，讓使用者重打
                confirmPassInput.value = "";
                confirmPassInput.focus();
                return;
            }

            // 全部通過
            alert("✅ 密碼重設成功！\nPassword reset successfully!");
            window.location.href = 'login.html';
        });
    </script>
</body>
</html>
